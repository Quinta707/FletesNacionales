{"ast":null,"code":"import { NavService } from \"../../../../services/nav.service\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services/nav.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../../feather-icons/feather-icons.component\";\nimport * as i6 from \"../../../svg-icon/svg-icon.component\";\nfunction SearchComponent_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11);\n    i0.ɵɵelement(2, \"app-svg-icon\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 13)(4, \"div\", 14)(5, \"a\", 15);\n    i0.ɵɵlistener(\"click\", function SearchComponent_div_4_div_1_Template_a_click_5_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.removeFix());\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const menuItem_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", menuItem_r2.icon);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", menuItem_r2 == null ? null : menuItem_r2.path);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(menuItem_r2 == null ? null : menuItem_r2.title);\n  }\n}\nfunction SearchComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtemplate(1, SearchComponent_div_4_div_1_Template, 7, 3, \"div\", 9);\n    i0.ɵɵpipe(2, \"slice\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"is-open\", ctx_r0.searchResult);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(2, 3, ctx_r0.menuItems, 0, 8));\n  }\n}\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\nexport class SearchComponent {\n  constructor(navServices) {\n    this.navServices = navServices;\n    this.searchResult = false;\n    this.searchResultEmpty = false;\n    this.navServices.items.subscribe(menuItems => this.items = menuItems);\n  }\n  ngOnInit() {}\n  searchToggle() {\n    this.navServices.search = false;\n    document.getElementsByTagName(\"body\")[0].classList.remove(\"offcanvas\");\n  }\n  searchTerm(term) {\n    term ? this.addFix() : this.removeFix();\n    if (!term) return this.menuItems = [];\n    let items = [];\n    term = term.toLowerCase();\n    this.items.filter(menuItems => {\n      if (!(menuItems === null || menuItems === void 0 ? void 0 : menuItems.title)) return false;\n      if (menuItems.title.toLowerCase().includes(term) && menuItems.type === \"link\") {\n        items.push(menuItems);\n      }\n      if (!menuItems.children) return false;\n      menuItems.children.filter(subItems => {\n        if (subItems.title.toLowerCase().includes(term) && subItems.type === \"link\") {\n          subItems.icon = menuItems.icon;\n          items.push(subItems);\n        }\n        if (!subItems.children) return false;\n        subItems.children.filter(suSubItems => {\n          if (suSubItems.title.toLowerCase().includes(term)) {\n            suSubItems.icon = menuItems.icon;\n            items.push(suSubItems);\n          }\n        });\n      });\n      this.checkSearchResultEmpty(items);\n      this.menuItems = items;\n    });\n  }\n  checkSearchResultEmpty(items) {\n    if (!items.length) this.searchResultEmpty = true;else this.searchResultEmpty = false;\n  }\n  addFix() {\n    this.searchResult = true;\n    document.getElementsByTagName(\"body\")[0].classList.add(\"offcanvas\");\n  }\n  removeFix() {\n    this.searchResult = false;\n    this.text = \"\";\n    document.getElementsByTagName(\"body\")[0].classList.remove(\"offcanvas\");\n  }\n}\nSearchComponent.ɵfac = function SearchComponent_Factory(t) {\n  return new (t || SearchComponent)(i0.ɵɵdirectiveInject(i1.NavService));\n};\nSearchComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SearchComponent,\n  selectors: [[\"app-search\"]],\n  decls: 9,\n  vars: 9,\n  consts: [[1, \"form-inline\", \"search-full\"], [1, \"form-group\", \"w-100\", \"mb-0\", \"item-search\"], [\"type\", \"text\", \"autocomplete\", \"off\", \"placeholder\", \"Search..\", 1, \"form-control-plaintext\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\", \"keyup\"], [1, \"close-search\", 3, \"icon\", \"click\"], [\"class\", \"Typeahead-menu\", \"id\", \"search-outer\", 3, \"is-open\", 4, \"ngIf\"], [1, \"Typeahead-menu\"], [1, \"tt-dataset\", \"tt-dataset-0\"], [1, \"EmptyMessage\"], [\"id\", \"search-outer\", 1, \"Typeahead-menu\"], [\"class\", \"ProfileCard u-cf\", 4, \"ngFor\", \"ngForOf\"], [1, \"ProfileCard\", \"u-cf\"], [1, \"ProfileCard-avatar\"], [1, \"header-search\", 3, \"icon\"], [1, \"ProfileCard-details\"], [1, \"ProfileCard-realName\"], [1, \"realname\", 3, \"routerLink\", \"click\"]],\n  template: function SearchComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0)(1, \"div\", 1)(2, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function SearchComponent_Template_input_ngModelChange_2_listener($event) {\n        return ctx.text = $event;\n      })(\"keyup\", function SearchComponent_Template_input_keyup_2_listener() {\n        return ctx.searchTerm(ctx.text);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"app-feather-icons\", 3);\n      i0.ɵɵlistener(\"click\", function SearchComponent_Template_app_feather_icons_click_3_listener() {\n        return ctx.searchToggle();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, SearchComponent_div_4_Template, 3, 7, \"div\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5)(6, \"div\", 6)(7, \"div\", 7);\n      i0.ɵɵtext(8, \"Opps!! There are no result found.\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵclassProp(\"open\", ctx.navServices.search);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.text)(\"ngModelOptions\", i0.ɵɵpureFunction0(8, _c0));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"icon\", \"x\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.menuItems == null ? null : ctx.menuItems.length);\n      i0.ɵɵadvance(1);\n      i0.ɵɵclassProp(\"is-open\", ctx.searchResultEmpty);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm, i5.FeatherIconsComponent, i6.SvgIconComponent, i2.SlicePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["NavService","i0","SearchComponent","constructor","navServices","items","subscribe","menuItems","ngOnInit","searchToggle","search","document","getElementsByTagName","classList","remove","searchTerm","term","addFix","removeFix","toLowerCase","filter","title","includes","type","push","children","subItems","icon","suSubItems","checkSearchResultEmpty","length","searchResultEmpty","searchResult","add","text","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["F:\\Plantillas\\template\\src\\app\\shared\\components\\header\\elements\\search\\search.component.ts","F:\\Plantillas\\template\\src\\app\\shared\\components\\header\\elements\\search\\search.component.html"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { NavService, Menu } from \"../../../../services/nav.service\";\n\n@Component({\n  selector: \"app-search\",\n  templateUrl: \"./search.component.html\",\n  styleUrls: [\"./search.component.scss\"],\n})\nexport class SearchComponent implements OnInit {\n  public menuItems: Menu[];\n  public items: Menu[];\n\n  public searchResult: boolean = false;\n  public searchResultEmpty: boolean = false;\n  public text: string;\n\n  constructor(public navServices: NavService) {\n    this.navServices.items.subscribe((menuItems) => (this.items = menuItems));\n  }\n\n  ngOnInit() {}\n\n  searchToggle() {\n    this.navServices.search = false;\n    document.getElementsByTagName(\"body\")[0].classList.remove(\"offcanvas\");\n  }\n\n  searchTerm(term: any) {\n    term ? this.addFix() : this.removeFix();\n    if (!term) return (this.menuItems = []);\n    let items = [];\n    term = term.toLowerCase();\n    this.items.filter((menuItems) => {\n      if (!menuItems?.title) return false;\n      if (menuItems.title.toLowerCase().includes(term) && menuItems.type === \"link\") {\n        items.push(menuItems);\n      }\n      if (!menuItems.children) return false;\n      menuItems.children.filter((subItems) => {\n        if (subItems.title.toLowerCase().includes(term) && subItems.type === \"link\") {\n          subItems.icon = menuItems.icon;\n          items.push(subItems);\n        }\n        if (!subItems.children) return false;\n        subItems.children.filter((suSubItems) => {\n          if (suSubItems.title.toLowerCase().includes(term)) {\n            suSubItems.icon = menuItems.icon;\n            items.push(suSubItems);\n          }\n        });\n      });\n      this.checkSearchResultEmpty(items);\n      this.menuItems = items;\n    });\n  }\n\n  checkSearchResultEmpty(items) {\n    if (!items.length) this.searchResultEmpty = true;\n    else this.searchResultEmpty = false;\n  }\n\n  addFix() {\n    this.searchResult = true;\n    document.getElementsByTagName(\"body\")[0].classList.add(\"offcanvas\");\n  }\n\n  removeFix() {\n    this.searchResult = false;\n    this.text = \"\";\n    document.getElementsByTagName(\"body\")[0].classList.remove(\"offcanvas\");\n  }\n}\n","<form class=\"form-inline search-full\" [class.open]=\"navServices.search\">\n  <div class=\"form-group w-100 mb-0 item-search\">\n    <input class=\"form-control-plaintext\" [(ngModel)]=\"text\" [ngModelOptions]=\"{ standalone: true }\" (keyup)=\"searchTerm(text)\" type=\"text\" autocomplete=\"off\" placeholder=\"Search..\" />\n    <app-feather-icons [icon]=\"'x'\" class=\"close-search\" (click)=\"searchToggle()\"></app-feather-icons>\n    <div class=\"Typeahead-menu\" [class.is-open]=\"searchResult\" *ngIf=\"menuItems?.length\" id=\"search-outer\">\n      <div class=\"ProfileCard u-cf\" *ngFor=\"let menuItem of menuItems | slice : 0 : 8\">\n        <div class=\"ProfileCard-avatar\">\n          <app-svg-icon [icon]=\"menuItem.icon\" class=\"header-search\"></app-svg-icon>\n        </div>\n        <div class=\"ProfileCard-details\">\n          <div class=\"ProfileCard-realName\">\n            <a [routerLink]=\"menuItem?.path\" class=\"realname\" (click)=\"removeFix()\">{{ menuItem?.title }}</a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"Typeahead-menu\" [class.is-open]=\"searchResultEmpty\">\n      <div class=\"tt-dataset tt-dataset-0\">\n        <div class=\"EmptyMessage\">Opps!! There are no result found.</div>\n      </div>\n    </div>\n  </div>\n</form>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}