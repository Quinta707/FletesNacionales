{"ast":null,"code":"\"use strict\";\n\nvar ReplaySubject_1 = require('../ReplaySubject');\n/**\n * @method shareReplay\n * @owner Observable\n */\nfunction shareReplay(bufferSize, windowTime, scheduler) {\n  return function (source) {\n    return source.lift(shareReplayOperator(bufferSize, windowTime, scheduler));\n  };\n}\nexports.shareReplay = shareReplay;\nfunction shareReplayOperator(bufferSize, windowTime, scheduler) {\n  var subject;\n  var refCount = 0;\n  var subscription;\n  var hasError = false;\n  var isComplete = false;\n  return function shareReplayOperation(source) {\n    refCount++;\n    if (!subject || hasError) {\n      hasError = false;\n      subject = new ReplaySubject_1.ReplaySubject(bufferSize, windowTime, scheduler);\n      subscription = source.subscribe({\n        next: function (value) {\n          subject.next(value);\n        },\n        error: function (err) {\n          hasError = true;\n          subject.error(err);\n        },\n        complete: function () {\n          isComplete = true;\n          subject.complete();\n        }\n      });\n    }\n    var innerSub = subject.subscribe(this);\n    return function () {\n      refCount--;\n      innerSub.unsubscribe();\n      if (subscription && refCount === 0 && isComplete) {\n        subscription.unsubscribe();\n      }\n    };\n  };\n}\n;","map":{"version":3,"names":["ReplaySubject_1","require","shareReplay","bufferSize","windowTime","scheduler","source","lift","shareReplayOperator","exports","subject","refCount","subscription","hasError","isComplete","shareReplayOperation","ReplaySubject","subscribe","next","value","error","err","complete","innerSub","unsubscribe"],"sources":["F:/Plantillas/template/node_modules/ng5-slider/node_modules/rxjs/operators/shareReplay.js"],"sourcesContent":["\"use strict\";\nvar ReplaySubject_1 = require('../ReplaySubject');\n/**\n * @method shareReplay\n * @owner Observable\n */\nfunction shareReplay(bufferSize, windowTime, scheduler) {\n    return function (source) { return source.lift(shareReplayOperator(bufferSize, windowTime, scheduler)); };\n}\nexports.shareReplay = shareReplay;\nfunction shareReplayOperator(bufferSize, windowTime, scheduler) {\n    var subject;\n    var refCount = 0;\n    var subscription;\n    var hasError = false;\n    var isComplete = false;\n    return function shareReplayOperation(source) {\n        refCount++;\n        if (!subject || hasError) {\n            hasError = false;\n            subject = new ReplaySubject_1.ReplaySubject(bufferSize, windowTime, scheduler);\n            subscription = source.subscribe({\n                next: function (value) { subject.next(value); },\n                error: function (err) {\n                    hasError = true;\n                    subject.error(err);\n                },\n                complete: function () {\n                    isComplete = true;\n                    subject.complete();\n                },\n            });\n        }\n        var innerSub = subject.subscribe(this);\n        return function () {\n            refCount--;\n            innerSub.unsubscribe();\n            if (subscription && refCount === 0 && isComplete) {\n                subscription.unsubscribe();\n            }\n        };\n    };\n}\n;\n"],"mappings":"AAAA,YAAY;;AACZ,IAAIA,eAAe,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AACjD;AACA;AACA;AACA;AACA,SAASC,WAAW,CAACC,UAAU,EAAEC,UAAU,EAAEC,SAAS,EAAE;EACpD,OAAO,UAAUC,MAAM,EAAE;IAAE,OAAOA,MAAM,CAACC,IAAI,CAACC,mBAAmB,CAACL,UAAU,EAAEC,UAAU,EAAEC,SAAS,CAAC,CAAC;EAAE,CAAC;AAC5G;AACAI,OAAO,CAACP,WAAW,GAAGA,WAAW;AACjC,SAASM,mBAAmB,CAACL,UAAU,EAAEC,UAAU,EAAEC,SAAS,EAAE;EAC5D,IAAIK,OAAO;EACX,IAAIC,QAAQ,GAAG,CAAC;EAChB,IAAIC,YAAY;EAChB,IAAIC,QAAQ,GAAG,KAAK;EACpB,IAAIC,UAAU,GAAG,KAAK;EACtB,OAAO,SAASC,oBAAoB,CAACT,MAAM,EAAE;IACzCK,QAAQ,EAAE;IACV,IAAI,CAACD,OAAO,IAAIG,QAAQ,EAAE;MACtBA,QAAQ,GAAG,KAAK;MAChBH,OAAO,GAAG,IAAIV,eAAe,CAACgB,aAAa,CAACb,UAAU,EAAEC,UAAU,EAAEC,SAAS,CAAC;MAC9EO,YAAY,GAAGN,MAAM,CAACW,SAAS,CAAC;QAC5BC,IAAI,EAAE,UAAUC,KAAK,EAAE;UAAET,OAAO,CAACQ,IAAI,CAACC,KAAK,CAAC;QAAE,CAAC;QAC/CC,KAAK,EAAE,UAAUC,GAAG,EAAE;UAClBR,QAAQ,GAAG,IAAI;UACfH,OAAO,CAACU,KAAK,CAACC,GAAG,CAAC;QACtB,CAAC;QACDC,QAAQ,EAAE,YAAY;UAClBR,UAAU,GAAG,IAAI;UACjBJ,OAAO,CAACY,QAAQ,EAAE;QACtB;MACJ,CAAC,CAAC;IACN;IACA,IAAIC,QAAQ,GAAGb,OAAO,CAACO,SAAS,CAAC,IAAI,CAAC;IACtC,OAAO,YAAY;MACfN,QAAQ,EAAE;MACVY,QAAQ,CAACC,WAAW,EAAE;MACtB,IAAIZ,YAAY,IAAID,QAAQ,KAAK,CAAC,IAAIG,UAAU,EAAE;QAC9CF,YAAY,CAACY,WAAW,EAAE;MAC9B;IACJ,CAAC;EACL,CAAC;AACL;AACA"},"metadata":{},"sourceType":"script","externalDependencies":[]}